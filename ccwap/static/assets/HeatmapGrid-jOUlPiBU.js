import{j as t}from"./query-vendor-ChV-W4bE.js";import{r as h}from"./react-vendor-yhu9f3WU.js";import{d as N}from"./index-DJRpnyjL.js";function b({data:i,maxValue:c,rowLabels:g,colLabels:n,formatValue:x,formatTooltip:l,cellSize:d=20,className:f}){const[o,m]=h.useState(null),j=h.useMemo(()=>{const e=new Map;for(const r of i)e.set(`${r.row}-${r.col}`,r.value);return e},[i]);return t.jsxs("div",{className:N("relative",f),children:[t.jsxs("div",{className:"inline-grid gap-px",style:{gridTemplateColumns:`48px repeat(${n.length}, ${d}px)`},children:[t.jsx("div",{}),n.map((e,r)=>t.jsx("div",{className:"text-[10px] text-muted-foreground text-center py-1 truncate",children:e},r)),g.map((e,r)=>t.jsxs("div",{className:"contents",children:[t.jsx("div",{className:"text-xs text-muted-foreground flex items-center pr-2",children:e}),n.map((p,u)=>{const s=j.get(`${r}-${u}`)??0,v=c>0?Math.round(s/c*100):0;return t.jsx("div",{className:"rounded-sm cursor-pointer hover:ring-1 hover:ring-primary/50 transition-shadow",style:{width:d,height:d,backgroundColor:v>0?`color-mix(in srgb, var(--color-chart-1) ${v}%, var(--color-muted) 20%)`:"var(--color-muted)"},onMouseEnter:$=>{const a=$.currentTarget.getBoundingClientRect(),y=l?l(e,p,s):`${e} ${p}: ${x?x(s):s}`;m({x:a.left+a.width/2,y:a.top-8,text:y})},onMouseLeave:()=>m(null)},`${r}-${u}`)})]},`row-${r}`))]}),t.jsxs("div",{className:"flex items-center gap-1 mt-3 text-xs text-muted-foreground",children:[t.jsx("span",{children:"Less"}),[0,25,50,75,100].map(e=>t.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:e>0?`color-mix(in srgb, var(--color-chart-1) ${e}%, var(--color-muted) 20%)`:"var(--color-muted)"}},e)),t.jsx("span",{children:"More"})]}),o&&t.jsx("div",{className:"fixed z-50 px-2 py-1 text-xs text-popover-foreground bg-popover border border-border rounded shadow-md pointer-events-none",style:{left:o.x,top:o.y,transform:"translate(-50%, -100%)"},children:o.text})]})}export{b as H};
