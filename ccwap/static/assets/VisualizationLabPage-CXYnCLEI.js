import{j as e}from"./query-vendor-ChV-W4bE.js";import{r as i}from"./react-vendor-yhu9f3WU.js";import{P as st}from"./PageLayout-DNcy9VzK.js";import{M as Xe,a as J}from"./MetricCardGrid-DncIdQee.js";import{C as Ee}from"./ChartContainer-BVfquKWB.js";import{D as nt}from"./DataTable-DYmEQGcX.js";import{E as Qe}from"./EmptyState-BXqdI1EZ.js";import{E as at}from"./ErrorState-D6SGc0M3.js";import{S as ot}from"./SavedViewsBar-CyhO2Tis.js";import{E as lt}from"./ExportDropdown-CT7rv4rS.js";import{C as Pe,a as De,b as Re,c as Fe}from"./card-D1bak8k5.js";import{u as it,B as q,f as ae,a as ct,c as ut,P as dt,F as mt,X as xt,d as ht,G as pt,e as bt}from"./index-DOoA8ygH.js";import{I as gt}from"./input-Bcp6nXqr.js";import{S as I,a as z,b as $,c as V,e as he,f as pe,d as v}from"./select-oezl1hG4.js";import{u as be,a as ft}from"./explorer-CI2B0UOa.js";import{T as jt,C as ee}from"./chartConfig-C_qPkli-.js";import{S as Oe,s as _t,X as yt,Y as vt,Z as Nt,T as St,g as ge,h as wt,q as kt,C as Mt}from"./chart-vendor-Dwd1Lo9s.js";import{C as Ct}from"./chevron-down-D1yrLjwH.js";import"./skeleton-4dVV08Mr.js";import"./table-1cB3eS_W.js";import"./index-yuhgJcXM.js";import"./index-B8TGfkCk.js";import"./check-DFm9GFPS.js";import"./download-CnbNskfO.js";const oe=[{value:"cost",label:"Cost ($)",group:"Turns",formatter:"currency"},{value:"input_tokens",label:"Input Tokens",group:"Turns",formatter:"number"},{value:"output_tokens",label:"Output Tokens",group:"Turns",formatter:"number"},{value:"cache_read_tokens",label:"Cache Read Tokens",group:"Turns",formatter:"number"},{value:"cache_write_tokens",label:"Cache Write Tokens",group:"Turns",formatter:"number"},{value:"ephemeral_5m_tokens",label:"Ephemeral 5m Tokens",group:"Turns",formatter:"number"},{value:"ephemeral_1h_tokens",label:"Ephemeral 1h Tokens",group:"Turns",formatter:"number"},{value:"thinking_chars",label:"Thinking Chars",group:"Turns",formatter:"number"},{value:"turns_count",label:"Turns Count",group:"Turns",formatter:"number"},{value:"loc_written",label:"LOC Written",group:"Tools",formatter:"number"},{value:"tool_calls_count",label:"Tool Calls",group:"Tools",formatter:"number"},{value:"errors",label:"Errors",group:"Tools",formatter:"number"},{value:"lines_added",label:"Lines Added",group:"Tools",formatter:"number"},{value:"lines_deleted",label:"Lines Deleted",group:"Tools",formatter:"number"},{value:"sessions_count",label:"Sessions",group:"Sessions",formatter:"number"},{value:"duration_seconds",label:"Duration (s)",group:"Sessions",formatter:"duration"}],qe=[{value:"date",label:"Date"},{value:"model",label:"Model"},{value:"project",label:"Project"},{value:"branch",label:"Branch"},{value:"language",label:"Language"},{value:"tool_name",label:"Tool Name"},{value:"cc_version",label:"CC Version"},{value:"entry_type",label:"Entry Type"},{value:"is_agent",label:"Agent/User"}],Tt=new Set(["date","model","project","branch","cc_version","entry_type","is_agent"]),Bt=new Set(["date","model","project","branch","language","tool_name","cc_version","entry_type","is_agent"]),Lt=new Set(["date","project","branch","cc_version","is_agent"]),Yt=new Set(["cost","input_tokens","output_tokens","cache_read_tokens","cache_write_tokens","ephemeral_5m_tokens","ephemeral_1h_tokens","thinking_chars","turns_count"]),At=new Set(["loc_written","tool_calls_count","errors","lines_added","lines_deleted"]),le=new Map(oe.map(r=>[r.value,r])),Xt=new Map(qe.map(r=>[r.value,r])),Et={Q1:ee[0],Q2:ee[1],Q3:ee[2],Q4:ee[3]};function fe(r){return r?Yt.has(r)?Tt:At.has(r)?Bt:Lt:new Set}function _(r,n){if(!Number.isFinite(r))return"N/A";const o=n?le.get(n):null;return o?.formatter==="currency"?ct(r):o?.formatter==="duration"?ut(Math.max(0,Math.round(r))):ae(r)}function je(r){return r===null||!Number.isFinite(r)?"N/A":r.toFixed(4)}function Ie(r,n,o){const a=o?Math.pow(10,r):r;return _(a,n)}function Qt(r){return r instanceof Error?r.message:"Failed to load visualization data"}function te(r){return Array.isArray(r)?r.map(n=>String(n).trim()).filter(Boolean):typeof r=="string"?r.split(",").map(n=>n.trim()).filter(Boolean):[]}function re(r){if(typeof r!="string")return null;const n=r.trim();return n.length>0?n:null}function se(r,n){if(typeof r=="boolean")return r;if(typeof r=="string"){if(r.toLowerCase()==="true")return!0;if(r.toLowerCase()==="false")return!1}return n}function ie(r){return Math.max(10,Math.min(1e3,Math.floor(r)))}function ze(r,n){if(typeof r=="number"&&Number.isFinite(r))return ie(r);if(typeof r=="string"){const o=Number(r);if(Number.isFinite(o))return ie(o)}return ie(n)}function $e(r){return r==="combined"||r==="x"||r==="y"||r==="bubble"?r:"combined"}function Ve(r){if(r.length===0)return null;const n=[...r].sort((a,b)=>a-b),o=Math.floor(n.length/2);return n.length%2===0?(n[o-1]+n[o])/2:n[o]}function Pt(r){if(r.length<2)return null;const n=r.length;let o=0,a=0,b=0,l=0,j=0;for(const x of r)o+=x.x,a+=x.y,b+=x.x*x.x,l+=x.y*x.y,j+=x.x*x.y;const d=n*j-o*a,g=Math.sqrt((n*b-o*o)*(n*l-a*a));return g===0?null:d/g}function Dt(r){if(r.length<2)return null;const n=r.length;let o=0,a=0,b=0,l=0;for(const f of r)o+=f.x,a+=f.y,b+=f.x*f.x,l+=f.x*f.y;const j=n*b-o*o;if(j===0)return null;const d=(n*l-o*a)/j,g=(a-d*o)/n,x=r.map(f=>f.x),Q=Math.min(...x),y=Math.max(...x);return{slope:d,intercept:g,xStart:Q,xEnd:y,yStart:d*Q+g,yEnd:d*y+g}}function Rt(r,n,o,a){return o===null||a===null||r>=o&&n>=a?"Q1":r<o&&n>=a?"Q2":r<o&&n<a?"Q3":"Q4"}function ne({label:r,options:n,selected:o,onChange:a}){const[b,l]=i.useState(!1),j=i.useCallback(d=>{a(o.includes(d)?o.filter(g=>g!==d):[...o,d])},[a,o]);return e.jsxs(dt,{open:b,onOpenChange:l,children:[e.jsx(mt,{asChild:!0,children:e.jsxs(q,{variant:"outline",role:"combobox","aria-expanded":b,className:ht("w-full justify-between text-sm font-normal h-9",o.length>0&&"ring-1 ring-primary/30"),children:[e.jsx("span",{className:"truncate",children:o.length>0?`${r} (${o.length})`:r}),e.jsxs("div",{className:"flex items-center gap-1 shrink-0 ml-1",children:[o.length>0&&e.jsx(xt,{className:"h-3 w-3 text-muted-foreground hover:text-foreground",onClick:d=>{d.stopPropagation(),a([])}}),e.jsx(Ct,{className:"h-3.5 w-3.5 text-muted-foreground"})]})]})}),e.jsx(pt,{className:"w-64 p-0",align:"start",children:e.jsx(bt,{className:"max-h-60",children:e.jsx("div",{className:"p-1",children:n.length===0?e.jsx("p",{className:"px-3 py-2 text-xs text-muted-foreground",children:"No options"}):n.map(d=>e.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-accent/50 cursor-pointer text-sm rounded-sm",children:[e.jsx("input",{type:"checkbox",checked:o.includes(d.value),onChange:()=>j(d.value),className:"rounded border-border"}),e.jsx("span",{className:"flex-1 truncate",children:d.label}),e.jsx("span",{className:"text-xs text-muted-foreground",children:d.count})]},d.value))})})})]})}function dr(){const{dateRange:r}=it(),[n,o]=i.useState("cost"),[a,b]=i.useState("loc_written"),[l,j]=i.useState(null),[d,g]=i.useState("project"),[x,Q]=i.useState("combined"),[y,f]=i.useState(120),[N,_e]=i.useState(!1),[S,ye]=i.useState(!1),[L,ve]=i.useState(!0),[P,Ne]=i.useState(!0),[Y,Se]=i.useState([]),[A,we]=i.useState([]),[X,ke]=i.useState([]),[E,Me]=i.useState([]),Ce=i.useMemo(()=>{if(!n||!a)return[];const t=new Set(fe(n)),s=fe(a);for(const u of[...t])s.has(u)||t.delete(u);if(l){const u=fe(l);for(const p of[...t])u.has(p)||t.delete(p)}return qe.filter(u=>t.has(u.value))},[n,a,l]),w=d&&Ce.some(t=>t.value===d)?d:null,ce=i.useMemo(()=>({from:r.from,to:r.to,projects:Y.length>0?Y.join(","):null,models:A.length>0?A.join(","):null,branches:X.length>0?X.join(","):null,languages:E.length>0?E.join(","):null}),[r.from,r.to,Y,A,X,E]),Ke={metric:n,group_by:w,...ce},Ge={metric:a,group_by:w,...ce},K=!!l&&l!==n&&l!==a,Ue={metric:K?l:null,group_by:K?w:null,...ce},M=be(Ke),C=be(Ge),G=be(Ue),{data:D}=ft(r.from,r.to),ue=i.useMemo(()=>l?l===n?M.data??null:l===a?C.data??null:G.data??null:null,[l,G.data,n,M.data,a,C.data]),de=i.useMemo(()=>{if(!M.data||!C.data)return[];const t=new Map;for(const h of M.data.rows)t.set(h.group,h.value);const s=new Map;for(const h of C.data.rows)s.set(h.group,h.value);const u=new Map;if(l&&ue)for(const h of ue.rows)u.set(h.group,h.value);const p=[];for(const[h,F]of t.entries()){if(!s.has(h))continue;const O=s.get(h)??0,Z=l?u.get(h)??0:1;p.push({group:h,rawX:F,rawY:O,rawBubble:Z,ratio:F!==0?O/F:null})}return p},[ue,l,M.data,C.data]),Te=i.useMemo(()=>{const t=[...de],s=u=>x==="x"?u.rawX:x==="y"?u.rawY:x==="bubble"?u.rawBubble:Math.abs(u.rawX)+Math.abs(u.rawY);return t.sort((u,p)=>s(p)-s(u)),t.slice(0,ie(y))},[de,x,y]),c=i.useMemo(()=>{const t=[];let s=0;for(const m of Te){if(N&&m.rawX<=0||S&&m.rawY<=0){s+=1;continue}const xe=N?Math.log10(m.rawX):m.rawX,Ae=S?Math.log10(m.rawY):m.rawY;if(!Number.isFinite(xe)||!Number.isFinite(Ae)){s+=1;continue}t.push({...m,x:xe,y:Ae})}const u=t.map(m=>m.rawBubble),p=u.length>0?Math.min(...u):0,h=u.length>0?Math.max(...u):0,F=m=>l?p===h?120:40+(m-p)/(h-p)*220:90,O=Ve(t.map(m=>m.x)),Z=Ve(t.map(m=>m.y));return{points:t.map(m=>({...m,bubbleSize:F(m.rawBubble),quadrant:Rt(m.x,m.y,O,Z)})),droppedByScale:s,medianX:O,medianY:Z,minBubble:p,maxBubble:h}},[l,N,S,Te]),Be=i.useMemo(()=>Pt(c.points),[c.points]),R=i.useMemo(()=>L?Dt(c.points):null,[c.points,L]),U=i.useMemo(()=>{const t={Q1:0,Q2:0,Q3:0,Q4:0};for(const s of c.points)t[s.quadrant]+=1;return t},[c.points]),T=i.useMemo(()=>c.points.length===0?null:c.points.reduce((t,s)=>s.rawY>t.rawY?s:t,c.points[0]),[c.points]),H=i.useMemo(()=>{const t=c.points.filter(s=>s.ratio!==null);return t.length===0?null:t.reduce((s,u)=>(u.ratio??-1/0)>(s.ratio??-1/0)?u:s,t[0])},[c.points]),He=i.useMemo(()=>{const t=c.points.map(s=>s.ratio).filter(s=>s!==null&&Number.isFinite(s));return t.length===0?null:t.reduce((s,u)=>s+u,0)/t.length},[c.points]),B=le.get(n??"")?.label??"X Axis",k=le.get(a??"")?.label??"Y Axis",me=l?le.get(l)?.label??"Bubble":"Bubble (fixed)",W=Xt.get(w??"")?.label??"Group",We=i.useMemo(()=>{const t=[{accessorKey:"group",header:W,cell:({row:s})=>e.jsx("span",{className:"font-medium truncate max-w-[240px] block",children:s.original.group})},{accessorKey:"rawX",header:()=>e.jsx("span",{className:"text-right block",children:B}),cell:({row:s})=>e.jsx("span",{className:"font-mono text-right block",children:_(s.original.rawX,n)})},{accessorKey:"rawY",header:()=>e.jsx("span",{className:"text-right block",children:k}),cell:({row:s})=>e.jsx("span",{className:"font-mono text-right block",children:_(s.original.rawY,a)})}];return l&&t.push({accessorKey:"rawBubble",header:()=>e.jsx("span",{className:"text-right block",children:me}),cell:({row:s})=>e.jsx("span",{className:"font-mono text-right block",children:_(s.original.rawBubble,l)})}),t.push({accessorKey:"ratio",header:()=>e.jsx("span",{className:"text-right block",children:"Y/X Ratio"}),cell:({row:s})=>e.jsx("span",{className:"font-mono text-right block",children:je(s.original.ratio)})}),t.push({accessorKey:"quadrant",header:"Quadrant",cell:({row:s})=>e.jsx("span",{className:"font-mono text-xs",children:s.original.quadrant})}),t},[me,l,W,B,n,k,a]),Ze=i.useCallback(t=>{o(re(t.x_metric)),b(re(t.y_metric)),j(re(t.bubble_metric)),g(re(t.group_by)),Se(te(t.projects)),we(te(t.models)),ke(te(t.branches)),Me(te(t.languages)),Q($e(t.rank_by)),f(ze(t.top_n,120)),_e(se(t.log_x,!1)),ye(se(t.log_y,!1)),ve(se(t.show_trendline,!0)),Ne(se(t.show_quadrants,!0))},[]),Je=i.useMemo(()=>({x_metric:n,y_metric:a,bubble_metric:l,group_by:w,projects:Y,models:A,branches:X,languages:E,rank_by:x,top_n:y,log_x:N,log_y:S,show_trendline:L,show_quadrants:P}),[n,a,l,w,Y,A,X,E,x,y,N,S,L,P]),Le=!!n&&!!a&&!!w,et=Le&&(M.isLoading||C.isLoading||K&&G.isLoading),Ye=M.error??C.error??(K?G.error:null),tt=i.useCallback(()=>c.points.map(t=>({group:t.group,x_metric:n,x_value:t.rawX,y_metric:a,y_value:t.rawY,bubble_metric:l,bubble_value:t.rawBubble,y_over_x_ratio:t.ratio,quadrant:t.quadrant})),[l,c.points,n,a]),rt=!n||!a;return e.jsxs(st,{title:"Visualization Lab",subtitle:"Pick any metric for X/Y axes and compare relationships across any shared dimension",actions:e.jsx(lt,{page:"visualization-lab",getData:tt}),children:[e.jsx(ot,{page:"visualization-lab",currentFilters:Je,onApply:Ze,from:r.from,to:r.to,defaultMetricForAlert:a??n??"cost"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-3 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"X Axis Metric"}),e.jsxs(I,{value:n??"__none__",onValueChange:t=>o(t==="__none__"?null:t),children:[e.jsx(z,{children:e.jsx($,{placeholder:"Choose X metric"})}),e.jsx(V,{children:["Turns","Tools","Sessions"].map(t=>e.jsxs(he,{children:[e.jsx(pe,{children:t}),oe.filter(s=>s.group===t).map(s=>e.jsx(v,{value:s.value,children:s.label},s.value))]},`x-${t}`))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Y Axis Metric"}),e.jsxs(I,{value:a??"__none__",onValueChange:t=>b(t==="__none__"?null:t),children:[e.jsx(z,{children:e.jsx($,{placeholder:"Choose Y metric"})}),e.jsx(V,{children:["Turns","Tools","Sessions"].map(t=>e.jsxs(he,{children:[e.jsx(pe,{children:t}),oe.filter(s=>s.group===t).map(s=>e.jsx(v,{value:s.value,children:s.label},s.value))]},`y-${t}`))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Bubble Metric (optional)"}),e.jsxs(I,{value:l??"__none__",onValueChange:t=>j(t==="__none__"?null:t),children:[e.jsx(z,{children:e.jsx($,{placeholder:"Fixed size"})}),e.jsxs(V,{children:[e.jsx(v,{value:"__none__",children:"Fixed size"}),["Turns","Tools","Sessions"].map(t=>e.jsxs(he,{children:[e.jsx(pe,{children:t}),oe.filter(s=>s.group===t).map(s=>e.jsx(v,{value:s.value,children:s.label},s.value))]},`bubble-${t}`))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Group By"}),e.jsxs(I,{value:w??"__none__",onValueChange:t=>g(t==="__none__"?null:t),disabled:rt,children:[e.jsx(z,{children:e.jsx($,{placeholder:"Choose shared dimension"})}),e.jsx(V,{children:Ce.map(t=>e.jsx(v,{value:t.value,children:t.label},t.value))})]})]})]}),D&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[e.jsx(ne,{label:"Projects",options:D.projects,selected:Y,onChange:Se}),e.jsx(ne,{label:"Models",options:D.models,selected:A,onChange:we}),e.jsx(ne,{label:"Branches",options:D.branches,selected:X,onChange:ke}),e.jsx(ne,{label:"Languages",options:D.languages,selected:E,onChange:Me})]}),e.jsxs("div",{className:"flex flex-wrap items-end gap-2 mb-6",children:[e.jsxs("div",{className:"min-w-[180px]",children:[e.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Rank and Keep Top N"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(I,{value:x,onValueChange:t=>Q($e(t)),children:[e.jsx(z,{className:"h-9 w-[150px]",children:e.jsx($,{})}),e.jsxs(V,{children:[e.jsx(v,{value:"combined",children:"Combined"}),e.jsx(v,{value:"x",children:"X Axis"}),e.jsx(v,{value:"y",children:"Y Axis"}),e.jsx(v,{value:"bubble",children:"Bubble"})]})]}),e.jsx(gt,{type:"number",min:10,max:1e3,step:10,value:y,onChange:t=>f(ze(t.target.value,y)),className:"w-24"})]})]}),e.jsx(q,{size:"sm",variant:N?"default":"outline",onClick:()=>_e(t=>!t),children:"Log X"}),e.jsx(q,{size:"sm",variant:S?"default":"outline",onClick:()=>ye(t=>!t),children:"Log Y"}),e.jsx(q,{size:"sm",variant:L?"default":"outline",onClick:()=>ve(t=>!t),children:"Trendline"}),e.jsx(q,{size:"sm",variant:P?"default":"outline",onClick:()=>Ne(t=>!t),children:"Quadrants"})]}),Le?et?e.jsxs(e.Fragment,{children:[e.jsx(Xe,{skeleton:!0,count:4,className:"mb-6"}),e.jsx(Ee,{title:"Scatter",height:420,isLoading:!0,children:e.jsx(Oe,{})})]}):Ye?e.jsx(at,{message:Qt(Ye)}):c.points.length===0?e.jsx(Qe,{message:c.droppedByScale>0?"No plottable points with current log settings. Disable log scale or adjust filters.":"No overlapping data between selected X and Y metrics for current filters."}):e.jsxs(e.Fragment,{children:[e.jsxs(Xe,{className:"mb-6",children:[e.jsx(J,{title:"Overlapping Groups",value:ae(de.length),subtitle:`Grouped by ${W}`}),e.jsx(J,{title:"Rendered Points",value:ae(c.points.length),subtitle:c.droppedByScale>0?`${ae(c.droppedByScale)} removed by log scale`:void 0}),e.jsx(J,{title:"Pearson Correlation",value:Be===null?"N/A":Be.toFixed(3),subtitle:N||S?"Computed in log space":"Computed in linear space"}),e.jsx(J,{title:"Avg Y/X Ratio",value:je(He),subtitle:`${k} per ${B}`})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-4 mb-6",children:[e.jsx(Ee,{title:`${k} vs ${B} by ${W}`,height:420,className:"xl:col-span-3",children:e.jsxs(Oe,{margin:{top:10,right:20,left:10,bottom:10},children:[e.jsx(_t,{strokeDasharray:"3 3",opacity:.2}),e.jsx(yt,{type:"number",dataKey:"x",name:B,tick:{fontSize:10},tickFormatter:t=>Ie(t,n,N),stroke:"var(--color-muted-foreground)"}),e.jsx(vt,{type:"number",dataKey:"y",name:k,tick:{fontSize:10},tickFormatter:t=>Ie(t,a,S),stroke:"var(--color-muted-foreground)",width:72}),e.jsx(Nt,{type:"number",dataKey:"bubbleSize",range:l?[40,260]:[90,90]}),e.jsx(St,{contentStyle:jt,labelFormatter:(t,s)=>s?.[0]?.payload?.group??"",formatter:(t,s,u)=>{const p=u.payload;return s==="x"?[_(p.rawX,n),B]:s==="y"?[_(p.rawY,a),k]:s==="bubbleSize"?[_(p.rawBubble,l),me]:[String(t),String(s)]}}),P&&c.medianX!==null&&e.jsx(ge,{x:c.medianX,stroke:"var(--color-muted-foreground)",strokeDasharray:"4 4"}),P&&c.medianY!==null&&e.jsx(ge,{y:c.medianY,stroke:"var(--color-muted-foreground)",strokeDasharray:"4 4"}),L&&R&&e.jsx(ge,{segment:[{x:R.xStart,y:R.yStart},{x:R.xEnd,y:R.yEnd}],stroke:"var(--color-chart-5)",strokeDasharray:"5 5"}),T&&e.jsx(wt,{x:T.x,y:T.y,r:4,fill:"var(--color-foreground)",stroke:"var(--color-background)",strokeWidth:1}),e.jsx(kt,{data:c.points,name:`${k} vs ${B}`,children:c.points.map((t,s)=>e.jsx(Mt,{fill:Et[t.quadrant]},`${t.group}-${s}`))})]})}),e.jsxs(Pe,{children:[e.jsxs(De,{className:"pb-3 pt-4 px-4",children:[e.jsx(Re,{className:"text-sm font-medium text-muted-foreground",children:"Insights"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Auto-generated from current plot"})]}),e.jsxs(Fe,{className:"px-4 pb-4 space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Highest ",k]}),e.jsx("p",{className:"font-medium truncate",title:T?.group??"N/A",children:T?.group??"N/A"}),e.jsx("p",{className:"font-mono text-xs",children:T?_(T.rawY,a):"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Best Y/X Ratio"}),e.jsx("p",{className:"font-medium truncate",title:H?.group??"N/A",children:H?.group??"N/A"}),e.jsx("p",{className:"font-mono text-xs",children:H?je(H.ratio):"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Quadrants"}),e.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs font-mono",children:[e.jsxs("span",{children:["Q1: ",U.Q1]}),e.jsxs("span",{children:["Q2: ",U.Q2]}),e.jsxs("span",{children:["Q3: ",U.Q3]}),e.jsxs("span",{children:["Q4: ",U.Q4]})]})]}),l&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Bubble Range"}),e.jsxs("p",{className:"font-mono text-xs",children:[_(c.minBubble,l)," - ",_(c.maxBubble,l)]})]})]})]})]}),e.jsxs(Pe,{children:[e.jsxs(De,{className:"pb-3 pt-4 px-4",children:[e.jsx(Re,{className:"text-sm font-medium text-muted-foreground",children:"Paired Data"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Rows plotted in current chart (",c.points.length,")"]})]}),e.jsx(Fe,{className:"px-4 pb-4",children:e.jsx(nt,{columns:We,data:c.points,emptyMessage:"No paired data"})})]})]}):e.jsx(Qe,{message:"Select X metric, Y metric, and a shared group dimension"})]})}export{dr as default};
