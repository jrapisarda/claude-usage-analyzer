import{r as n}from"./react-vendor-yhu9f3WU.js";import{w as W,z as H,A as E,C as $,L as Y,x as z,y as Z,G as q}from"./index-nDEx28AN.js";import{c as J}from"./index-DJw7Jyye.js";import"./chart-vendor-CnSh9PGG.js";import{j as v}from"./query-vendor-ChV-W4bE.js";function Q(e){const t=X(e),r=n.forwardRef((o,s)=>{const{children:c,...a}=o,u=n.Children.toArray(c),p=u.find(te);if(p){const d=p.props.children,l=u.map(I=>I===p?n.Children.count(d)>1?n.Children.only(null):n.isValidElement(d)?d.props.children:null:I);return v.jsx(t,{...a,ref:s,children:n.isValidElement(d)?n.cloneElement(d,void 0,l):null})}return v.jsx(t,{...a,ref:s,children:c})});return r.displayName=`${e}.Slot`,r}function X(e){const t=n.forwardRef((r,o)=>{const{children:s,...c}=r;if(n.isValidElement(s)){const a=re(s),u=oe(c,s.props);return s.type!==n.Fragment&&(u.ref=o?W(o,a):a),n.cloneElement(s,u)}return n.Children.count(s)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ee=Symbol("radix.slottable");function te(e){return n.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ee}function oe(e,t){const r={...t};for(const o in t){const s=e[o],c=t[o];/^on[A-Z]/.test(o)?s&&c?r[o]=(...u)=>{const p=c(...u);return s(...u),p}:s&&(r[o]=s):o==="style"?r[o]={...s,...c}:o==="className"&&(r[o]=[s,c].filter(Boolean).join(" "))}return{...e,...r}}function re(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],D=ne.reduce((e,t)=>{const r=Q(`Primitive.${t}`),o=n.forwardRef((s,c)=>{const{asChild:a,...u}=s,p=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(p,{...u,ref:c})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),A="rovingFocusGroup.onEntryFocus",se={bubbles:!1,cancelable:!0},C="RovingFocusGroup",[_,O,ie]=J(C),[ce,Ce]=$(C,[ie]),[ae,ue]=ce(C),j=n.forwardRef((e,t)=>v.jsx(_.Provider,{scope:e.__scopeRovingFocusGroup,children:v.jsx(_.Slot,{scope:e.__scopeRovingFocusGroup,children:v.jsx(le,{...e,ref:t})})}));j.displayName=C;var le=n.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:s=!1,dir:c,currentTabStopId:a,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:p,onEntryFocus:d,preventScrollOnEntryFocus:l=!1,...I}=e,F=n.useRef(null),S=Y(t,F),y=z(c),[w,i]=Z({prop:a,defaultProp:u??null,onChange:p,caller:C}),[b,h]=n.useState(!1),m=q(d),g=O(r),T=n.useRef(!1),[M,P]=n.useState(0);return n.useEffect(()=>{const f=F.current;if(f)return f.addEventListener(A,m),()=>f.removeEventListener(A,m)},[m]),v.jsx(ae,{scope:r,orientation:o,dir:y,loop:s,currentTabStopId:w,onItemFocus:n.useCallback(f=>i(f),[i]),onItemShiftTab:n.useCallback(()=>h(!0),[]),onFocusableItemAdd:n.useCallback(()=>P(f=>f+1),[]),onFocusableItemRemove:n.useCallback(()=>P(f=>f-1),[]),children:v.jsx(D.div,{tabIndex:b||M===0?-1:0,"data-orientation":o,...I,ref:S,style:{outline:"none",...e.style},onMouseDown:E(e.onMouseDown,()=>{T.current=!0}),onFocus:E(e.onFocus,f=>{const k=!T.current;if(f.target===f.currentTarget&&k&&!b){const N=new CustomEvent(A,se);if(f.currentTarget.dispatchEvent(N),!N.defaultPrevented){const x=g().filter(R=>R.focusable),U=x.find(R=>R.active),V=x.find(R=>R.id===w),B=[U,V,...x].filter(Boolean).map(R=>R.ref.current);K(B,l)}}T.current=!1}),onBlur:E(e.onBlur,()=>h(!1))})})}),G="RovingFocusGroupItem",L=n.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:s=!1,tabStopId:c,children:a,...u}=e,p=H(),d=c||p,l=ue(G,r),I=l.currentTabStopId===d,F=O(r),{onFocusableItemAdd:S,onFocusableItemRemove:y,currentTabStopId:w}=l;return n.useEffect(()=>{if(o)return S(),()=>y()},[o,S,y]),v.jsx(_.ItemSlot,{scope:r,id:d,focusable:o,active:s,children:v.jsx(D.span,{tabIndex:I?0:-1,"data-orientation":l.orientation,...u,ref:t,onMouseDown:E(e.onMouseDown,i=>{o?l.onItemFocus(d):i.preventDefault()}),onFocus:E(e.onFocus,()=>l.onItemFocus(d)),onKeyDown:E(e.onKeyDown,i=>{if(i.key==="Tab"&&i.shiftKey){l.onItemShiftTab();return}if(i.target!==i.currentTarget)return;const b=pe(i,l.orientation,l.dir);if(b!==void 0){if(i.metaKey||i.ctrlKey||i.altKey||i.shiftKey)return;i.preventDefault();let m=F().filter(g=>g.focusable).map(g=>g.ref.current);if(b==="last")m.reverse();else if(b==="prev"||b==="next"){b==="prev"&&m.reverse();const g=m.indexOf(i.currentTarget);m=l.loop?me(m,g+1):m.slice(g+1)}setTimeout(()=>K(m))}}),children:typeof a=="function"?a({isCurrentTabStop:I,hasTabStop:w!=null}):a})})});L.displayName=G;var fe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function de(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function pe(e,t,r){const o=de(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return fe[o]}function K(e,t=!1){const r=document.activeElement;for(const o of e)if(o===r||(o.focus({preventScroll:t}),document.activeElement!==r))return}function me(e,t){return e.map((r,o)=>e[(t+o)%e.length])}var Fe=j,Se=L;export{Se as I,Fe as R,Ce as c};
